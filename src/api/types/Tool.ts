/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as Phonic from "../index.js";

export interface Tool {
    /** The ID of the tool. */
    id: string;
    /** The name of the tool. */
    name: string;
    /** Description of what the tool does. */
    description: string;
    project: Tool.Project;
    /** The type of tool. */
    type: Tool.Type;
    /** Mode of operation - sync waits for response, async continues without waiting. */
    execution_mode: Tool.ExecutionMode;
    /** Array of parameter definitions for the tool. */
    parameters: Phonic.ToolParameter[];
    /** HTTP method for webhook tools. */
    endpoint_method?: Tool.EndpointMethod;
    /** URL for webhook tools. */
    endpoint_url?: string;
    /** Headers for webhook tools. */
    endpoint_headers?: Record<string, string>;
    /** Timeout in milliseconds for webhook tools. */
    endpoint_timeout_ms?: number;
    /** Timeout in milliseconds for WebSocket tool responses. */
    tool_call_output_timeout_ms?: number;
    /** The E.164 formatted phone number to transfer calls to. Required for built_in_transfer_to_phone_number tools. */
    phone_number?: string;
    /** DTMF digits to send after the transfer connects (e.g., "1234"). Defaults to null. */
    dtmf?: string | null;
    /** When true, Phonic will transfer the call using the agent's phone number. When false, Phonic will transfer the call using the phone number of the party to whom the agent is connected. This is only available for built_in_transfer_to_phone_number tools. */
    use_agent_phone_number?: boolean;
    /** When true, Phonic will listen in and tell the user if the transfer hits voicemail. This is only available for built_in_transfer_to_phone_number tools when use_agent_phone_number is true. */
    detect_voicemail?: boolean;
    /** Array of agent names that the LLM can choose from when transferring. Required for built_in_transfer_to_agent tools. */
    agents_to_transfer_to?: string[];
    /** When true, forces the agent to speak before executing the tool. */
    require_speech_before_tool_call?: boolean;
    /** If true, the agent will wait to finish speaking before executing the tool. This is only available for custom_webhook and custom_websocket tools. */
    wait_for_speech_before_tool_call?: boolean;
    /** When true, forbids the agent from speaking after executing the tool. Available for custom_context, custom_webhook and custom_websocket tools. */
    forbid_speech_after_tool_call?: boolean;
    /** When true, allows the agent to chain and execute other tools after executing the tool. Available for custom_context, custom_webhook and custom_websocket tools. */
    allow_tool_chaining?: boolean;
}

export namespace Tool {
    export interface Project {
        id: string;
        name: string;
    }

    /**
     * The type of tool.
     */
    export type Type =
        | "custom_context"
        | "custom_webhook"
        | "custom_websocket"
        | "built_in_transfer_to_phone_number"
        | "built_in_transfer_to_agent";
    export const Type = {
        CustomContext: "custom_context",
        CustomWebhook: "custom_webhook",
        CustomWebsocket: "custom_websocket",
        BuiltInTransferToPhoneNumber: "built_in_transfer_to_phone_number",
        BuiltInTransferToAgent: "built_in_transfer_to_agent",
    } as const;
    /**
     * Mode of operation - sync waits for response, async continues without waiting.
     */
    export type ExecutionMode = "sync" | "async";
    export const ExecutionMode = {
        Sync: "sync",
        Async: "async",
    } as const;
    /**
     * HTTP method for webhook tools.
     */
    export type EndpointMethod = "GET" | "POST";
    export const EndpointMethod = {
        Get: "GET",
        Post: "POST",
    } as const;
}
