/**
 * This file was auto-generated by Fern from our API Definition.
 */

export interface ConversationItem {
    /** Index of the item in the conversation. */
    item_idx: number;
    /** Who spoke in this turn. */
    role: ConversationItem.Role;
    /** Live transcript of this turn. */
    live_transcript: string;
    /** Post-call processed transcript. */
    post_call_transcript?: string;
    /** Duration of this turn in milliseconds. */
    duration_ms: number;
    /** When this turn started. */
    started_at: string;
    /** Voice ID used (assistant only). */
    voice_id?: string;
    /** Audio speed used (assistant only). */
    audio_speed?: number;
    /** System prompt used for this assistant turn. */
    system_prompt?: string;
    /** Tool calls made by the assistant. */
    tool_calls?: ConversationItem.ToolCalls.Item[];
}

export namespace ConversationItem {
    /**
     * Who spoke in this turn.
     */
    export type Role = "user" | "assistant";
    export const Role = {
        User: "user",
        Assistant: "assistant",
    } as const;
    export type ToolCalls = ToolCalls.Item[];

    export namespace ToolCalls {
        export interface Item {
            /** The tool call ID. */
            id: string;
            tool: Item.Tool;
            /** HTTP method for webhook tool calls. */
            endpoint_method?: string;
            /** URL for webhook tool calls. */
            endpoint_url?: string;
            /** Headers for webhook tool calls. */
            endpoint_headers?: Record<string, string | undefined>;
            /** Timeout in milliseconds for webhook tool calls. */
            endpoint_timeout_ms?: number;
            /** When the webhook endpoint was called (null on error). */
            endpoint_called_at?: string;
            /** Query parameters for webhook tool calls (null on error or when no params). */
            query_params?: Record<string, unknown>;
            /** HTTP response status code for webhook tool calls (null on error). */
            response_status_code?: number;
            /** Timeout in milliseconds for websocket tool calls. */
            tool_call_output_timeout_ms?: number;
            /** The request body sent to the tool. Can be any JSON-serializable value. */
            request_body?: Item.RequestBody;
            /** The response body received from the tool. */
            response_body?: Record<string, unknown>;
            /** Whether the tool call timed out. */
            timed_out?: boolean;
            /** Error message if the tool call failed. */
            error_message?: string;
        }

        export namespace Item {
            export interface Tool {
                /** The tool ID. */
                id: string;
                /** The tool name. */
                name: string;
            }

            /**
             * The request body sent to the tool. Can be any JSON-serializable value.
             */
            export type RequestBody = Record<string, unknown> | unknown[] | string | number | boolean;
        }
    }
}
