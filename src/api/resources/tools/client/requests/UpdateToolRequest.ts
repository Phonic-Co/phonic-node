/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as Phonic from "../../../../index.js";

/**
 * @example
 *     {
 *         project: "main",
 *         description: "Updated description for booking appointments with enhanced features",
 *         endpoint_headers: {
 *             "Authorization": "Bearer updated_token456"
 *         },
 *         endpoint_timeout_ms: 7000
 *     }
 */
export interface UpdateToolRequest {
    /** The name of the project containing the tool. Only used when `nameOrId` is a name. */
    project?: string;
    /** The name of the tool. Must be snake_case and unique within the organization. */
    name?: string;
    /** A description of what the tool does. */
    description?: string;
    /** The type of tool. */
    type?: UpdateToolRequest.Type;
    /** Mode of operation. */
    execution_mode?: UpdateToolRequest.ExecutionMode;
    /**
     * Array of parameter definitions.
     * When updating `type` or `endpoint_method`, all parameters must include explicit `location` values.
     * For `custom_webhook` tools: `location` is required for POST, defaults to `"query_string"` for GET.
     * For `custom_websocket`, `built_in_transfer_to_phone_number`, and `built_in_transfer_to_agent` tools: `location` must not be specified.
     */
    parameters?: Phonic.ToolParameter[];
    /** HTTP method for webhook tools. When changing this value, all parameters must include explicit `location` values. */
    endpoint_method?: UpdateToolRequest.EndpointMethod;
    endpoint_url?: string;
    endpoint_headers?: Record<string, string>;
    endpoint_timeout_ms?: number;
    tool_call_output_timeout_ms?: number;
    /** The E.164 formatted phone number to transfer calls to. Required for built_in_transfer_to_phone_number tools. */
    phone_number?: string;
    /** DTMF digits to send after the transfer connects (e.g., "1234"). Can be set to null to remove DTMF. */
    dtmf?: string | null;
    /** Array of agent names that the LLM can choose from when transferring. All agents must exist in the same project as the tool. */
    agents_to_transfer_to?: string[];
    /** When true, forces the agent to speak before executing the tool. */
    require_speech_before_tool_call?: boolean;
}

export namespace UpdateToolRequest {
    /**
     * The type of tool.
     */
    export type Type =
        | "custom_webhook"
        | "custom_websocket"
        | "built_in_transfer_to_phone_number"
        | "built_in_transfer_to_agent";
    export const Type = {
        CustomWebhook: "custom_webhook",
        CustomWebsocket: "custom_websocket",
        BuiltInTransferToPhoneNumber: "built_in_transfer_to_phone_number",
        BuiltInTransferToAgent: "built_in_transfer_to_agent",
    } as const;
    /**
     * Mode of operation.
     */
    export type ExecutionMode = "sync" | "async";
    export const ExecutionMode = {
        Sync: "sync",
        Async: "async",
    } as const;
    /**
     * HTTP method for webhook tools. When changing this value, all parameters must include explicit `location` values.
     */
    export type EndpointMethod = "GET" | "POST";
    export const EndpointMethod = {
        Get: "GET",
        Post: "POST",
    } as const;
}
